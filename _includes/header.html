<header class="bg-{{ site.data.skin.header.bg | default: 'gray-4' }}">
    <div class="container">
        <nav class="navbar navbar-expand-lg navbar-light">
            <!-- Navbar Brand -->
            <a class="navbar-brand" href="{{ site.url }}">
                <img src="{{ site.url }}/assets/images/logo.svg" alt="NetSci 2025" height="40">
            </a>
            
            <!-- Navbar Toggler -->
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navigation" aria-controls="navigation" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            
            <!-- Navbar Links -->
            <div class="collapse navbar-collapse" id="navigation">
                <ul class="navbar-nav ms-auto">
                    {% assign links = site.pages | sort: 'navorder' %}
                    {% for link in links %}
                        {% if link.navorder %}
                            {% if link.has_children %}
                                <!-- Dropdown Parent -->
                                <li class="nav-item dropdown">
                                    <a class="nav-link dropdown-toggle" href="{{ link.url | relative_url }}" id="{{ link.title | downcase }}Dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                        {{ link.title }}
                                    </a>
                                    <ul class="dropdown-menu" aria-labelledby="{{ link.title | downcase }}Dropdown">
                                        {% assign children = site.pages | where: "parent", link.title | sort: "navorder" %}
                                        {% for child in children %}
                                            <li><a class="dropdown-item" href="{{ child.url | relative_url }}">{{ child.title }}</a></li>
                                        {% endfor %}
                                    </ul>
                                </li>
                            {% else %}
                                <!-- Single Page -->
                                <li class="nav-item">
                                    <a class="nav-link" href="{{ link.url | relative_url }}">{{ link.title }}</a>
                                </li>
                            {% endif %}
                        {% endif %}
                    {% endfor %}
                </ul>
            </div>
        </nav>
    </div>

 

    <script>
            document.addEventListener('DOMContentLoaded', function () {
            const baseUrl = "{{ site.url }}"; 
            const links = document.querySelectorAll('.navbar-nav a');

            links.forEach(link => {
        
                const relativePath = link.getAttribute('href');
                if (relativePath && !relativePath.startsWith('http') && !relativePath.startsWith(baseUrl)) {
                    link.href = baseUrl + relativePath;
                }
            });
        });

        
        // JavaScript for handling dropdown timeout
        const dropdowns = document.querySelectorAll('.nav-item.dropdown');
        
        dropdowns.forEach((dropdown) => {
            let hideTimeout;
        
            dropdown.addEventListener('mouseenter', () => {
                clearTimeout(hideTimeout);
                const dropdownMenu = dropdown.querySelector('.dropdown-menu');
                dropdownMenu.style.visibility = 'visible';
                dropdownMenu.style.opacity = '1';
            });
        
            dropdown.addEventListener('mouseleave', () => {
                const dropdownMenu = dropdown.querySelector('.dropdown-menu');
                hideTimeout = setTimeout(() => {
                    dropdownMenu.style.visibility = 'hidden';
                    dropdownMenu.style.opacity = '0';
                }, 2000); // 2-second delay before hiding

                dropdown.addEventListener('mouseenter', () => {
            menu.classList.add('show');
            link.setAttribute('aria-expanded', 'true');
        });

        
        link.addEventListener('click', (e) => {
            if (menu.classList.contains('show')) {
                e.stopPropagation(); 
                menu.classList.remove('show');
                link.setAttribute('aria-expanded', 'false');
            }
        });
    });
    });
});
    </script>
</header>


