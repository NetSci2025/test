---
layout: default
---

{% include metadata.liquid %}
{% include header.html %}

<style>
.schedule-grid {
  position: relative;
  display: grid;
  grid-template-columns: 80px repeat(8, 1fr);
  gap: 4px;
  border-top: 1px solid #ccc;
  font-size: 0.75rem;
  min-height: 1200px;
}
.time-slot {
  border-bottom: 1px solid #ccc;
  height: 30px;
  padding: 2px;
  text-align: right;
  padding-right: 5px;
  background: #f9f9f9;
}
.event-block {
  position: absolute;
  border-radius: 4px;
  padding: 4px;
  font-size: 0.7rem;
  color: #000;
  border: 1px solid #999;
  overflow: hidden;
}
.bg-yellow {
  background-color: #ffe699;
}
.bg-orange {
  background-color: #f4b084;
}
</style>

<main class="my-4">
  <div class="container">
    <h1 class="display-5">{{ title }}</h1>

    {% if site.data.program %}
    {% assign day = site.data.program.days | where: "name", "Mon 2 June 2025" | first %}
    {% assign time_slots = "09:00,09:30,10:00,10:30,11:00,11:30,12:00,12:30,13:00,13:30,14:00,14:30,15:00,15:30,16:00,16:30,17:00,17:30" | split: "," %}

    <div class="schedule-grid">
      {% assign index = 0 %}
      {% for time in time_slots %}
        <div class="time-slot" style="grid-row: {{ forloop.index }}">{{ time }}</div>
      {% endfor %}

      {% assign minute_to_index = "" | split: "" %}
      {% assign step = 30 %}

      {% for i in (0..(time_slots.size | minus: 1)) %}
        {% assign parts = time_slots[i] | split: ":" %}
        {% assign minutes = parts[0] | plus: 0 | times: 60 | plus: parts[1] | plus: 0 %}
        {% assign minute_to_index = minute_to_index | push: minutes %}
      {% endfor %}

      {% assign columns = "" | split: "" %}
      {% assign tracks = "" | split: "" %}

      {% for event in day.events %}
        {% assign e_start = event.time | split: ' - ' | first | strip %}
        {% assign e_end = event.time | split: ' - ' | last | strip %}
        {% assign e_start_m = e_start | split: ':' | first | plus: 0 | times: 60 | plus: e_start | split: ':' | last | plus: 0 %}
        {% assign e_end_m = e_end | split: ':' | first | plus: 0 | times: 60 | plus: e_end | split: ':' | last | plus: 0 %}
        {% assign e_duration = e_end_m | minus: e_start_m %}

        {% assign placed = false %}
        {% assign column = 1 %}

        {% for t in (1..10) %}
          {% assign conflict = false %}
          {% for e in tracks %}
            {% assign c = e | split: '|' %}
            {% assign c_start = c[1] | plus: 0 %}
            {% assign c_end = c[2] | plus: 0 %}
            {% assign c_col = c[0] | plus: 0 %}
            {% if c_col == t and e_start_m < c_end and e_end_m > c_start %}
              {% assign conflict = true %}
            {% endif %}
          {% endfor %}
          {% unless conflict %}
            {% assign column = t %}
            {% assign tracks = tracks | push: column | append: "|" | append: e_start_m | append: "|" | append: e_end_m %}
            {% assign placed = true %}
            {% break %}
          {% endunless %}
        {% endfor %}

        {% assign top = e_start_m | minus: 540 | times: 1.5 %} {# 1.5px per minute from 09:00 #}
        {% assign height = e_duration | times: 1.5 %}

        <div class="event-block {{ forloop.index0 | modulo: 2 == 0 | if: 'bg-yellow', 'bg-orange' }}" style="top:{{ top }}px; height:{{ height }}px; left:{{ column | times: 110 }}px; width: 100px">
          <strong>{{ event.time }}</strong><br>
          {{ event.title }}
        </div>
      {% endfor %}
    </div>
    {% endif %}
  </div>
</main>




